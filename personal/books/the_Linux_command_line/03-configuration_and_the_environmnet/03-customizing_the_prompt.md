---
reviewed_on: "2025-07-02"
---

# Customizing the prompt

## Anatomy of a prompt

Our default prompt looks something like this:

```
[me@linuxbox ~]$
```

The prompt is defined by an environment variable named "PS1" (prompt string 1).

| sequence | value displayed                                                                                 |
|:--------:|:----------------------------------------------------------------------------------------------- |
|   `\a`   | ASCII bell. This makes the computer beep when it is encountered.                                |
|   `\d`   | current date in day, month, date format.                                                        |
|   `\h`   | hostname of the local machine minus the trailing domain name.                                   |
|   `\H`   | full hostname.                                                                                  |
|   `\j`   | number of jobs running in the current shell session.                                            |
|   `\l`   | name of the current terminal device.                                                            |
|   `\n`   | a newline character.                                                                            |
|   `\s`   | name of the shell program.                                                                      |
|   `\t`   | current time in 24-hour hours:minutes:seconds format.                                           |
|   `\T`   | current time in 12-hour format.                                                                 |
|   `\@`   | current time in 12-hour (AM/PM format).                                                         |
|   `\A`   | current time in 24-hour hours:minutes format.                                                   |
|   `\u`   | username of the current user.                                                                   |
|   `\v`   | version number of the shell.                                                                    |
|   `\V`   | version and release numbers of the shell.                                                       |
|   `\w`   | name of the current working directory.                                                          |
|   `\W`   | last part of the current working directory name.                                                |
|   `\!`   | history number of the current command.                                                          |
|   `\#`   | number of commands entered during this shell session.                                           |
|   `\$`   | this displays `$` unless we have superuser privileges. In that case, it displays a `#` instead. |
|   `\[`   | signals the start of a series of one or more non-printing characters.                           |
|   `\]`   | signals the end of a non-printing character sequence.                                           |

## Trying some alternative prompt designs

```bash
PS1_OLD=$PS1

PS1="\[\a\]\$ " # An non-printing sequence was defined, because "\a" does not print

PS1="\A \h \$"

PS1="<\u@\h \W>\$ "
```

It is important to write the non-printable characters inside `[` and `]`, so that the shell can correctly determine the length of the prompt.

## Adding color

Most terminal emulator programs respond to certain non-printing character sequences to control such things as character attributes (such as color, bold text, and the dreaded blinking text) and cursor position.

Character color is controlled by sending the terminal emulator an **ANSI escape code** embedded in the stream of characters to be displayed. The control code does not "print out" on the display; rather, it is interpreted by the terminal as an instruction. An ANSI escape code begins with an octal $033$ (the code generated by the `ESC`), followed by an optional character attribute, followed by an instruction.

|   sequence   | text color |
|:------------:|:---------- |
| `\033[0;30m` | black      |
| `\033[0;31m` | red        |
| `\033[0;32m` | green      |
| `\033[0;33m` | brown      |
| `\033[0;34m` | blue       |
| `\033[0;35m` | purple     |
| `\033[0;36m` | cyan       |
| `\033[0;37m` | light gray |

> Every color has its own light version, the only difference in the sequence is that the light version change the $0$ for a $1$ `\033[1;XXm` (that changed number it is called bold attribute).

```bash
PS1="\[\033[0;31m\]<\u@\h \W>\$\[\033[0m\] "
```

The sequence is composed of:

- `\[\033[0;31m\]`: telling the terminal to display things in red.

- `<\u@\h \W>\$`: the displayed prompt.

- `\[\033[0m\]`: telling the terminal to display things in the previous color.

It is also possible to set the text background color using escape sequences. The difference from the normal color structure is that a background color sequence follow this form `\033[0;4Xm`.

> Background colors does not support the bold attribute.

```bash
PS1="\[\033[0;41m\]<\u@\h \W>\$\[\033[0m\] "
```

Besides the normal ($0$) and bold ($1$) character attributes, text may be given underscore ($4$), blinking ($5$), and inverse ($7$) attributes...

## Moving the cursor

|    sequence     | action                                                                                                         |
|:---------------:|:-------------------------------------------------------------------------------------------------------------- |
| `\033[<l>;<c>H` | move cursor to line "l", column "c" (1-based). If you omit both numbers the cursor goes to $1,1$ (upper-left). |
|   `\033[<n>A`   | move the cursor up "n" lines. Default $n = 1$.                                                                 |
|   `\033[<n>B`   | move the cursor down "n" lines. Default $n = 1$.                                                               |
|   `\033[<n>C`   | move the cursor forward "n" characters. Default $n = 1$.                                                       |
|   `\033[<n>D`   | move the cursor backward "n" characters. Default $n = 1$.                                                      |
|    `\033[2J`    | clear the screen and move the cursor to the upper-left corner (line $1$, column $1$).                          |
|    `\033[K`     | clear from the cursor position to the end of the current line.                                                 |
|    `\033[s`     | store the current cursor position.                                                                             |
|    `\033[u`     | recall the stored cursor position.                                                                             |

```bash
PS1="\[\033[s\033[1;1H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\]
<\u@\h \W>\$ "
```

The sequence is composed of:

- `\033[s`: store the cursor position (the normal position of your prompt).

- `\033[1;1H`: move the cursor to the upper-left corner (line $1$, column $1$).

- `\033[0;41m`: set the background color to red.

- `\033[K`: clear from the current cursor location (the top-left corner) to the end of the line (this is for "paint" the line red).

- `\033[1;33m`: Set the text color to yellow.

- `\t`: display the current time, it is still included in the non-printing portion because we do not want bash to include the clock when calculating the true size of the displayed prompt.

- `\033[0m`: turn off color.

- `\033[u`: restore the cursor position saved earlier.

- `\]`: end the non-printing characters sequence.
